<html>
<head>
    <script type="text/javascript" src="crafty.js"></script>
    <title>My Crafty Game</title>
    <style>
	@font-face { font-family: "Amiga"; src: url('amiga4ever.ttf') format("truetype");}
    body, html { margin:0; padding: 0; overflow:hidden;font-family: "Amiga"; font-size:1.0em; text-transform: uppercase;}
    #cr-stage {border:2px solid black; margin:5px auto; background-color:black; color:black; display:block;}
	#myCanvas {margin: 5px auto; height:480px; width:608px; border:2px solid black; color: #15527c; background: #999999; position:relative;display:block;}
    </style>
</head>
<body>
	<script src="jquery.min.js"></script>
	<script src="game.js"></script>
	<script src="sprites.js"></script>
	<script src="gui.js"></script>
	<div id = "myCanvas">
		<canvas id="canv" width="608" height="480"></canvas>
	</div>
	<script>
		window.onload = function (){
			//start crafty			
			var playerObj=[
				{username:"POLICEMAN", spriteposition: 0,controls:{left:65,right:68,up:87,down:83,bomb:32},money:0,maxBombs:1,fireRange:2,timebomb:false,speed:1.5,invinsible:true,wins:0},
				{username:"DUKE", spriteposition: 1,controls:{left:37,right:39,up:38,down:40,bomb:13},money:0,maxBombs:1,fireRange:2,timebomb:false,speed:1.5,invinsible:false,wins:0}
			];
			var config = {
				"menu":[
					{text:"WINS NEEDED",value:3,min:3,max:9},
					{text:"PLAYERS",value:2,min:2,max:2},
					{text:"SHOP",value:"ON"},
					{text:"SHRINKING",value:"OFF"},
					{text:"FASTIGNITION",value:"ON"},
					{text:"STARTMONEY",value:"OFF"},
					{text:"NORMALLEVEL",value:"YES"},
					{text:"GAMBLING",value:"YES"}
				],
				"player":[
					{name:"POLICEMAN",taken:true,sx:0,sy:0,sw:32,sh:44},
					{name:"DUKE",taken:true,sx:0,sy:132,sw:32,sh:44},
					{name:"DETECTIVE",taken:false,sx:0,sy:264,sw:32,sh:44},
					{name:"GREEN",taken:false,sx:0,sy:396,sw:32,sh:44},
					{name:"CHINESE",taken:false,sx:0,sy:528,sw:32,sh:44},
					{name:"MICHA",taken:false,sx:0,sy:660,sw:32,sh:44}
				],
				"environmentExtras":[
					{name:"throphy",sx:64,sy:224,sw:32,sh:32},
					{name:"money",sx:32,sy:224,sw:32,sh:32}
				],
				"buyableExtras":[
					{name:"EXTRA BOMB",sx:32,sy:160,sw:32,sh:32,prize:1,extrasname:"maxBombs"}, 
					{name:"POWER-UP",sx:64,sy:160,sw:32,sh:32,prize:1,extrasname:"fireRange"},
					{name:"TIMEBOMB",sx:96,sy:160,sw:32,sh:32,prize:3,extrasname:"timeBomb"},
					{name:"PROTECTION",sx:0,sy:192,sw:32,sh:32,prize:3,extrasname:"invinsible"},
					{name:"SPEED-UP",sx:0,sy:160,sw:32,sh:32,prize:4,extrasname:"speed"}
				]
			};
			
			generateUi(playerObj, config);
		}
	</script>
</body>
</html>